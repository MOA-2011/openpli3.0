diff --git a/lib/dvb/frontend.cpp b/lib/dvb/frontend.cpp
index 0670f30..8d6cd5d 100644
--- a/lib/dvb/frontend.cpp
+++ b/lib/dvb/frontend.cpp
@@ -1,3 +1,4 @@
+#include <linux/version.h>
 #include <linux/dvb/version.h>
 
 #include <lib/dvb/dvb.h>
@@ -1861,8 +1862,12 @@ void eDVBFrontend::setFrontend(bool recvEvents)
 			if (system == SYS_DVBT2)
 			{
 #if DVB_API_VERSION > 5 || DVB_API_VERSION == 5 && DVB_API_VERSION_MINOR >= 3
+#if (LINUX_VERSION_CODE >= KERNEL_VERSION(3,7,0))
+				p[cmdseq.num].cmd = DTV_DVBT2_PLP_ID_LEGACY, p[cmdseq.num].u.data = parm.plpid, cmdseq.num++;
+#else
 				p[cmdseq.num].cmd = DTV_DVBT2_PLP_ID, p[cmdseq.num].u.data = parm.plpid, cmdseq.num++;
 #endif
+#endif
 			}
 		}
 		else if (type == iDVBFrontend::feATSC)
